# Changelog

## 0.1.0 (2022-03-04)


### âš  BREAKING CHANGES

* remove `dts-json` (#24)
* remove custom transformation code (#20)
* improve error handling (#4)
* **hcl:** deserialize according to the HCL JSON spec (#2)
* remove `--threads` flag
* replace Reader and Writer with Source and Sink
* replace transform options with --transform
* multiple input files
* rename `new` to `with_options`
* move writer into Serializer
* move reader into Deserializer
* merge io helpers into one module
* move opts into Serializer/Deserializer, mut Reader
* move opts into ser/de methods

### Features

* add --file-paths flag ([bfe910a](https://github.com/martinohmann/dts/commit/bfe910af9079bfd40447a3fb1981c89f7211dd89))
* add --keys-as-csv-headers flag ([cc44082](https://github.com/martinohmann/dts/commit/cc44082503a7137de4ada94dd849f11980ff73a4))
* add --remove-empty-values ([bac6fe3](https://github.com/martinohmann/dts/commit/bac6fe384ee0fb069197d073aea213b0841cb589))
* add `delete-keys` transformation ([cbfec89](https://github.com/martinohmann/dts/commit/cbfec89a4ca450a9740232ebbecf7234928eacac))
* add `dts-json` crate ([#10](https://github.com/martinohmann/dts/issues/10)) ([9f20ab0](https://github.com/martinohmann/dts/commit/9f20ab0521839d78cfd37b92b15902029b6ddb70))
* add `hcl` crate ([#1](https://github.com/martinohmann/dts/issues/1)) ([32538f3](https://github.com/martinohmann/dts/commit/32538f3a85ecd59c6401c0aa35eb632239c49d82))
* add `keys` transform ([6d5ab9c](https://github.com/martinohmann/dts/commit/6d5ab9c7da514dba1a1aa2308463122e8126447b))
* add builders ([bd3cf16](https://github.com/martinohmann/dts/commit/bd3cf1632e586a7be705fde57d6a270aaed54791))
* add flatten-keys transformer ([d85ecac](https://github.com/martinohmann/dts/commit/d85ecac47d34461b83887e68a1eb4e76537e85c7))
* add jsonpath and flatten transformations ([dfdab00](https://github.com/martinohmann/dts/commit/dfdab0027a3d787744bf19b22aadd30ae469f3ac))
* add new to options ([a63ee94](https://github.com/martinohmann/dts/commit/a63ee9436c4fa9c778c0dab6c9dabe43704dc2ee))
* add pickle support ([a760768](https://github.com/martinohmann/dts/commit/a76076899ab971b24c4d66d96dd4f09404644f0c))
* add Reader and Writer ([eb87453](https://github.com/martinohmann/dts/commit/eb87453b8753dd4ae6ea29f1c6570588558fd19a))
* add serialize_csv ([2d91f16](https://github.com/martinohmann/dts/commit/2d91f166038efcddcc9021c86dd80250c20da114))
* add short opts for csv_headers_as_keys and keys_as_csv_headers ([b16b364](https://github.com/martinohmann/dts/commit/b16b364b63cd0d7d912ed668ad86a2e1796c098e))
* add support for csv/tsv input ([ec3fed7](https://github.com/martinohmann/dts/commit/ec3fed73f34bd6a9c221e2c3fbcd280597d5ac00))
* add support for directory globs ([e56f4a0](https://github.com/martinohmann/dts/commit/e56f4a009e936079bf92a80938e22f682da98786))
* add support for query string ([6827fec](https://github.com/martinohmann/dts/commit/6827fecd5ad1861c1365c9303f9d1b6ac6c3bf98))
* add support for remote input files ([cd1e17d](https://github.com/martinohmann/dts/commit/cd1e17d221d12c62bdc5127215cff3a47bc8da4d))
* add support for serializing to gron ([4f15fa1](https://github.com/martinohmann/dts/commit/4f15fa1796e4557e13d023c339d397aba2ab0ee8))
* add support for xml ([6b9a4c8](https://github.com/martinohmann/dts/commit/6b9a4c898c9f7b10f23d8f02046c7e2a9c2b3669))
* add transform mod ([d7c90ff](https://github.com/martinohmann/dts/commit/d7c90ff8993803dd814db25fd03f40c90cfc0da4))
* allow multiple usages of --flatten ([55ef789](https://github.com/martinohmann/dts/commit/55ef7893636c4353a7fb8abcdd3e310a340a3c47))
* allow passing optional keywords to `--help-transform` ([#12](https://github.com/martinohmann/dts/issues/12)) ([920311d](https://github.com/martinohmann/dts/commit/920311db65fdf8fcb676b51a2719a6ab7ef7ec04))
* convert collections to json in csv rows ([8c36f38](https://github.com/martinohmann/dts/commit/8c36f38910a72644f9af958361890783605ac894))
* crate options from cli args ([fb3e656](https://github.com/martinohmann/dts/commit/fb3e656dab26bdbc624aad97e2a50e33e910f413))
* csv flags ([4d2fe01](https://github.com/martinohmann/dts/commit/4d2fe0105daaa581efb9179d069b2fc1f745c86a))
* detect encoding from first line ([#21](https://github.com/martinohmann/dts/issues/21)) ([faf22ff](https://github.com/martinohmann/dts/commit/faf22ffc21ef79e961b2f4fa7023f379bf15ed38))
* **dts-core/csv:** automatically upcast rows to object or array ([2253bb2](https://github.com/martinohmann/dts/commit/2253bb257a90c9473e5df831a2377e40c9492d20))
* **dts-core/transform:** add `Delete` and `Remove` ([c3e6a7d](https://github.com/martinohmann/dts/commit/c3e6a7d2442b4e45117431f623564186f35b9305))
* **dts-core:** add `EachKey` and `EachValue` transformations ([d61662b](https://github.com/martinohmann/dts/commit/d61662bb7b2fc66c3bdee9562335e70ddc0bd360))
* **dts-core:** add `Insert` transformation ([f61ce84](https://github.com/martinohmann/dts/commit/f61ce848c63f53db1a52c09f1c2dab93405e27f4))
* **dts-core:** add `is_empty` to `ValueExt` ([d1aa608](https://github.com/martinohmann/dts/commit/d1aa6082fe65dafd537842f2c1bbb86af202c5d3))
* **dts-core:** add `ReplaceString` transformation ([c2d9e70](https://github.com/martinohmann/dts/commit/c2d9e70a5a6173e3cc4ce1cfa0618243b16bfb83))
* **dts-core:** add `sort` transform ([#3](https://github.com/martinohmann/dts/issues/3)) ([7d53598](https://github.com/martinohmann/dts/commit/7d53598bd59768e23c99a57fd6dfb1c68e63b37e))
* **dts-core:** add `Transform` trait ([#14](https://github.com/martinohmann/dts/issues/14)) ([84fbd16](https://github.com/martinohmann/dts/commit/84fbd1681bbf93e1a3426190c45cb5437d923483))
* **dts-core:** add `Values` transformation ([62bc7f5](https://github.com/martinohmann/dts/commit/62bc7f59a3f502baa3bd08499da1ac086804771e))
* **dts-core:** add `Visit` transformation ([#17](https://github.com/martinohmann/dts/issues/17)) ([fd3666f](https://github.com/martinohmann/dts/commit/fd3666fc146b057de0baa66d8362f6950780b907))
* **dts-core:** add `Wrap` transformation ([a2c710f](https://github.com/martinohmann/dts/commit/a2c710fa7703d58a0a201c5cb70b3e5b3c84719a))
* **dts-core:** add `YieldValue` transformation ([29c5c82](https://github.com/martinohmann/dts/commit/29c5c8219670e8926ef78ae4f8840265e2d42e46))
* **dts-core:** make gron serializer chainable ([ccc6ca2](https://github.com/martinohmann/dts/commit/ccc6ca24742e674d8ea9fb320748e5a260be7329))
* **dts-json:** add `FromStr` for `Value` ([3a490f9](https://github.com/martinohmann/dts/commit/3a490f95d85c6cff74cc6767fbb292286b9b1f19))
* **dts:** add `--continue-on-error` flag ([9b108a7](https://github.com/martinohmann/dts/commit/9b108a7abbe0b31354282f44c3ddc9f695f1b509))
* **dts:** add `--generate-completion` flag ([03adc0a](https://github.com/martinohmann/dts/commit/03adc0a5e46418981fd49a3bc437e90c8da6482b))
* **dts:** add `--overwrite` flag ([bfc9d45](https://github.com/martinohmann/dts/commit/bfc9d454c5c2a19961145aeae5436a03d3532707))
* **dts:** add output coloring ([#6](https://github.com/martinohmann/dts/issues/6)) ([150d055](https://github.com/martinohmann/dts/commit/150d05535355885f0140003760f956f58dac8a10))
* **dts:** add preview to `--list-themes` ([b77bac9](https://github.com/martinohmann/dts/commit/b77bac9fac097b37811c721d65e1a29d27fe83ee))
* **dts:** support jq filter expressions from file ([d235953](https://github.com/martinohmann/dts/commit/d235953fc07a29678e00554a7c3554d56f5a98ed))
* **dts:** use `jq` for transformations ([#19](https://github.com/martinohmann/dts/issues/19)) ([7d157f4](https://github.com/martinohmann/dts/commit/7d157f497662fea7c59936feda369ca15067efb2))
* **encodings:** remove `pickle`, `ron` and `hjson` ([2fe8510](https://github.com/martinohmann/dts/commit/2fe851004461b72c59c41a2779765fac3ce1a44a))
* **errors:** add `TransformError` ([5da25ad](https://github.com/martinohmann/dts/commit/5da25ad04098c5d17a3651fbb6ea77976e590383))
* group flags with section headings ([c71119c](https://github.com/martinohmann/dts/commit/c71119c99f7cefdd29548ce1ac88e87dcdba11a3))
* **hcl/parser:** add `take` to `ast::Node` ([3bfb976](https://github.com/martinohmann/dts/commit/3bfb97649014badaf4a81b113c2815cb9ca8f446))
* **hcl/parser:** move `Node` conversion int `ast` module ([cc27ed1](https://github.com/martinohmann/dts/commit/cc27ed15f094c754622935362ccf69e848f25c74))
* **hcl/structure:** add `with_*` funcs to `Attribute` and `Block` impls ([eae40b2](https://github.com/martinohmann/dts/commit/eae40b2600b6330c5d3a9c0f864662581e291ac2))
* **hcl:** add location to errors where possible ([ef51b91](https://github.com/martinohmann/dts/commit/ef51b91218d58d5f7c545242bfe561cf308ff8ee))
* **hcl:** deserialize according to the HCL JSON spec ([#2](https://github.com/martinohmann/dts/issues/2)) ([375efd3](https://github.com/martinohmann/dts/commit/375efd32c50e11a4519f2b7dd645debf4251514b))
* **hcl:** use `indexmap` as map impl to preserve order ([4e4cf0a](https://github.com/martinohmann/dts/commit/4e4cf0ae1d63669280c89106f647cadb08d759e0))
* implement Display for Encoding ([71b0732](https://github.com/martinohmann/dts/commit/71b07329c008bf18cd7a5e1e3464a69bd451bc40))
* improve error handling ([#4](https://github.com/martinohmann/dts/issues/4)) ([4f5a8d8](https://github.com/martinohmann/dts/commit/4f5a8d86995d4cbc5e8401acda75d6e1586afc31))
* include crate version in the help ([5ed1c68](https://github.com/martinohmann/dts/commit/5ed1c68eca5e96500e076e55c4b4dc5c7b5e7520))
* introduce Value enum ([fc45bfc](https://github.com/martinohmann/dts/commit/fc45bfcea673346d9465bbf6c3923fae7e7105e6))
* make csv delimiter configurable ([d6eabb4](https://github.com/martinohmann/dts/commit/d6eabb40a34a9aee8bad155c35fcf339e367b9e1))
* move `deep_merge` into `ValueExt` trait ([4365c68](https://github.com/martinohmann/dts/commit/4365c68d1bf9f2c5f19edb239c89edc734684dc2))
* move collections to the end to support serializing to toml ([d2548ee](https://github.com/martinohmann/dts/commit/d2548eee9b3fded3aec62414511c5a9eee52ebd0))
* move glob_files into PathExt trait ([b4fc6b5](https://github.com/martinohmann/dts/commit/b4fc6b5f312858b05ee0b45c9fcfce474ea8215b))
* move options to `args` module ([43f57a9](https://github.com/martinohmann/dts/commit/43f57a9986b616926efa2fe75a49a7adffde291c))
* move opts into Serializer/Deserializer, mut Reader ([618e282](https://github.com/martinohmann/dts/commit/618e2826092e0ee871a42637c1656b17571518a8))
* multiple input files ([f3753c6](https://github.com/martinohmann/dts/commit/f3753c6715fe5476e2887bb7229f150b201d7118))
* multiple output files ([cde1d65](https://github.com/martinohmann/dts/commit/cde1d656f1e53391c7141e4be701bd7a153b1e65))
* new transformation format ([#11](https://github.com/martinohmann/dts/issues/11)) ([fa70303](https://github.com/martinohmann/dts/commit/fa70303cb34847835a9815c89e44cb2f853630c2))
* output paging ([#7](https://github.com/martinohmann/dts/issues/7)) ([32ccf56](https://github.com/martinohmann/dts/commit/32ccf565e9080f26e24c1a5a788b3d3efad943a0))
* parallel deserialization ([5781d9a](https://github.com/martinohmann/dts/commit/5781d9adc44f2d4b2108b385ffefc6fb1e0d153c))
* **parsers:** add `gron` parser ([27c4ee9](https://github.com/martinohmann/dts/commit/27c4ee9545bf2e41e91e9e50a0b8bbe08844484d))
* remove --all-documents flag ([d117a3b](https://github.com/martinohmann/dts/commit/d117a3b6b79b2e67f62654116622b110259999d8))
* remove `--threads` flag ([71781e1](https://github.com/martinohmann/dts/commit/71781e1e98eaed4e882a6f437b3ee120bd891ed7))
* remove `dts-json` ([#24](https://github.com/martinohmann/dts/issues/24)) ([be972d1](https://github.com/martinohmann/dts/commit/be972d1c351bab2054f87abc78473de15ba74ffc))
* rename `new` to `with_options` ([6e0e1fa](https://github.com/martinohmann/dts/commit/6e0e1fa6c1481637abee603e94d3c53d830309bb))
* replace Reader and Writer with Source and Sink ([439ffd0](https://github.com/martinohmann/dts/commit/439ffd0c51e3a45d39e00751f6cc2062d3fd04ca))
* replace transform options with --transform ([ce01583](https://github.com/martinohmann/dts/commit/ce01583f01d8348b5bbb797ff937a004e5250f1e))
* serialize to csv/tsv ([e34f1c7](https://github.com/martinohmann/dts/commit/e34f1c7f321c9b29823fef631610369b51d3f7b2))
* support all valid JSON values in transform expressions ([#16](https://github.com/martinohmann/dts/issues/16)) ([33be7b0](https://github.com/martinohmann/dts/commit/33be7b09b76a86751fa8d0b2191d59abb7a92456))
* support custom text split pattern and join seperator ([3f88072](https://github.com/martinohmann/dts/commit/3f88072e3340ff1b46a622aa0688b8e401b1e8b1))
* support decoding from and encoding to text ([878bdee](https://github.com/martinohmann/dts/commit/878bdee0bfd60d15c677192dd9fe210952e2cb20))
* support for multiple output files ([79af012](https://github.com/martinohmann/dts/commit/79af012c5e4c9f2d6dbfe25bc0fd24a0ec32d3b5))
* support multiple occurences of -j ([920ce8d](https://github.com/martinohmann/dts/commit/920ce8d49f5e8411eeb7c530b4ecfd654269596f))
* **transform:** add `arrays-to-objects` ([b18b660](https://github.com/martinohmann/dts/commit/b18b6603edfc957578cc792623393ebe472016b7))
* **transform:** add `expand-keys` ([09ee833](https://github.com/martinohmann/dts/commit/09ee8333f9307a0f6645f611530a036581856191))
* **transform:** add deep-merge ([d82bf90](https://github.com/martinohmann/dts/commit/d82bf9096a4cab5ddd04e1c899596dd511ef98da))
* use serde_json::Value for deserialization ([5933acf](https://github.com/martinohmann/dts/commit/5933acf309b3b06aef0dd721f279b002b63b7ed9))


### Bug Fixes

* accept expression instead of value in `insert` ([f092a67](https://github.com/martinohmann/dts/commit/f092a67535c08c5a023d253c7aadf351b258e456))
* also escape flatten prefix if necessary ([a369d1d](https://github.com/martinohmann/dts/commit/a369d1d95664fcdbab44f647aa0b801793ff99ca))
* automatically wrap text and csv data in array if needed ([9e60488](https://github.com/martinohmann/dts/commit/9e60488ac66ad999bde1820767900e5b0a980db7))
* buffer csv writes ([328dfa4](https://github.com/martinohmann/dts/commit/328dfa49a45574d4a3be3ab645675c18ab805ea4))
* **builders:** move encoding arg to build() ([e239433](https://github.com/martinohmann/dts/commit/e23943327cef863a00b7491151e3cfa61857b2a8))
* **codestyle:** do not use all-caps for acronyms ([c7333c3](https://github.com/martinohmann/dts/commit/c7333c32de563114e780aeceb887a8a88a8eb5fd))
* correct categories in `Cargo.toml` ([cd8f8b1](https://github.com/martinohmann/dts/commit/cd8f8b1821f91a0a63b1b7f0b33864708f224048))
* correctly detect remote urls ([63e4eb2](https://github.com/martinohmann/dts/commit/63e4eb2239f00b0306949f906116f329d4b52f77))
* **de:** do not force CSV fields to be strings ([93d0294](https://github.com/martinohmann/dts/commit/93d0294369409a8bf036210505c60df36d70b8fd))
* **deps:** pin `clap` to 3.0.0-beta.5 ([73735b9](https://github.com/martinohmann/dts/commit/73735b9a1c94d0d5fa502114cc1a0e496ac1ea2f))
* do not match full stderr in test ([b891502](https://github.com/martinohmann/dts/commit/b8915026a3ce5267f86835e67765076270ff3c9b))
* **docs:** no item named `*` in scope ([9ed7547](https://github.com/martinohmann/dts/commit/9ed754753ef410dbcf9d94158f45121743c8ee0a))
* **docs:** remove `--help-transform` from help hint ([12e48f6](https://github.com/martinohmann/dts/commit/12e48f6a31ee77d657c0fbba153cbe57b3a65ae6))
* **dts-core/parsers:** fix string match pattern ([b5660c6](https://github.com/martinohmann/dts/commit/b5660c6df61b9717013cc7818040ac4df1a16d71))
* **dts-core:** fix broken test ([8cfea94](https://github.com/martinohmann/dts/commit/8cfea9424cb6d9c93e76cb562f990fe43fceb8ee))
* **dts-core:** handle unparseable keys in `expand_keys` ([3b4b203](https://github.com/martinohmann/dts/commit/3b4b203cd2d8f73c48f490a1ed4433a4d6fc6669))
* **dts-core:** use `IndexMap` in `expand_keys` to preserve order ([f40982f](https://github.com/martinohmann/dts/commit/f40982f73fc239abba93227393568392b381d5c0))
* **dts-json:** add missing `indexmap` feature ([753c580](https://github.com/martinohmann/dts/commit/753c580c985366edf3268c1afc88028ce4a3f9ba))
* **dts:** add `resolve_cmd` to fix binary resolution on windows ([80f84a9](https://github.com/martinohmann/dts/commit/80f84a97e528c51e8f19b3f6b42987a0be5567cb))
* **dts:** add value hint for sources ([faeb201](https://github.com/martinohmann/dts/commit/faeb2013f6838408a243c6f9ec174c5df2b9c74f))
* **dts:** handle panic in `ColoredStdoutWriter::write` ([f00e375](https://github.com/martinohmann/dts/commit/f00e37583f7e7759a9cfe241127f8901b86631f8))
* **dts:** make transformations non-recursive ([0ac1487](https://github.com/martinohmann/dts/commit/0ac1487d6f48a7ca7a9edc666af2dc98891f9ba9))
* **dts:** only print theme names if coloring is disabled ([4eb8e3c](https://github.com/martinohmann/dts/commit/4eb8e3c3e255f83f14378bc90071e577a42171c7))
* **dts:** remove `max_depth` from from `sort` transformation ([d6d8449](https://github.com/martinohmann/dts/commit/d6d844991771d9319cdbb3240526236e49cd6aac))
* **dts:** remove single char aliases ([54fd3e4](https://github.com/martinohmann/dts/commit/54fd3e402f149b1811ada82b6b9e9871c0cd08a5))
* **encodings:** correct casing of acronym variants ([a95e122](https://github.com/martinohmann/dts/commit/a95e1220a6dac0fd102c9995443f79228d49de36))
* ensure CSV rows are arrays ([6e779fe](https://github.com/martinohmann/dts/commit/6e779fefe20c06ec634da1c7fdd3d2429a9fdad7))
* **errors:** remove distiction of encoding errors ([d536d24](https://github.com/martinohmann/dts/commit/d536d248306dc605c9709ff60def0147790d07a1))
* **errors:** remove useless error variants ([3dd6cac](https://github.com/martinohmann/dts/commit/3dd6cacd268ff5cdfb8562620285e9d9e3be4f34))
* **errors:** use lowercase sentences ([#22](https://github.com/martinohmann/dts/issues/22)) ([3cc3853](https://github.com/martinohmann/dts/commit/3cc3853e5b7df666c0deeecc92d95aac91e02967))
* **flat-key:** correctly roundtrip escaped keys ([71a0758](https://github.com/martinohmann/dts/commit/71a075801b3a950ec1de31ad6d96b4f3fee321c0))
* handle error `Broken pipe (os error 32)` ([d8ffd95](https://github.com/martinohmann/dts/commit/d8ffd95cad7f19decb773a5dae5e9fc8fcc7ff22))
* handle relative path for stdin ([6f5d00a](https://github.com/martinohmann/dts/commit/6f5d00a5b1573aaa809b58791da81969bb1a31e8))
* **hcl/parser:** allow exprs in objects and fix element access pattern ([4650c5c](https://github.com/martinohmann/dts/commit/4650c5c32b5725baeacf6964439acdab4a0953c8))
* **hcl/parser:** allow whitespace in index expressions ([03c4be1](https://github.com/martinohmann/dts/commit/03c4be199be685b1dcee440c75d54a7054e256e3))
* **hcl/parser:** correctly merge blocks ([f6efb18](https://github.com/martinohmann/dts/commit/f6efb1813c166bc442f20b1464239d5d0350f035))
* **hcl/parser:** force error on invalid HCL ([94ab45b](https://github.com/martinohmann/dts/commit/94ab45badbc614964a270141eeaf0ba4307c3516))
* **hcl/parser:** handle `null` in variable expressions ([ed8bd3f](https://github.com/martinohmann/dts/commit/ed8bd3f1a620cf0a84afedb99593277654191571))
* **hcl/parser:** panic on missing map value ([10163d2](https://github.com/martinohmann/dts/commit/10163d2dca270b7a0fb8fcf6ff5dd1a0953fafa8))
* **hcl/parser:** support `\\` in string literals ([d0ffa79](https://github.com/martinohmann/dts/commit/d0ffa79dfca344429a0f80fa73a3a6d0db398273))
* **hcl:** correctly handle duplicate attributes ([e6777f2](https://github.com/martinohmann/dts/commit/e6777f2abf34f7a512d6d4e2c79ef5aa9af86a8f))
* **hcl:** handle blocks and attributes of the same name ([7132c6f](https://github.com/martinohmann/dts/commit/7132c6f098b6b55bc3e090b5b190c4fac49dc05a))
* **hcl:** update incorrect size hint ([e95e7f8](https://github.com/martinohmann/dts/commit/e95e7f86d5061e220a620f9f864b324e364bd228))
* **input:** only read stdin if sources are empty ([ef489e7](https://github.com/martinohmann/dts/commit/ef489e7551480fa22a902df013955325f0a9064d))
* **integration-tests:** multiple sinks require `-O` ([0056f0e](https://github.com/martinohmann/dts/commit/0056f0eaf71632800ebcb8db8fc1ef44c7b3d806))
* **io:** remove unnecessary `Option` indirection ([9f319d4](https://github.com/martinohmann/dts/commit/9f319d4ab517ecb44dc5c6c74eee886ce6e4d956))
* mark `Transformation` as `non_exhaustive` ([66240f8](https://github.com/martinohmann/dts/commit/66240f8f40091ae6ab9d19954d5c752727ba4ddd))
* move opts into ser/de methods ([b30afa5](https://github.com/martinohmann/dts/commit/b30afa5453020f297f5957b6e0784c0c7a1a3817))
* move reader into Deserializer ([8c01538](https://github.com/martinohmann/dts/commit/8c015382c5d97b8ccb9bf0c7fe4fcf0a02304987))
* move writer into Serializer ([6f6f4b0](https://github.com/martinohmann/dts/commit/6f6f4b063eee0e1af7775573f7e70972ca629e3a))
* only allow one value after -j ([cfc2616](https://github.com/martinohmann/dts/commit/cfc2616bd74099b57922c2224792918c7e783208))
* preserve order of fields in maps ([a5a23ab](https://github.com/martinohmann/dts/commit/a5a23abfb29a551f722dd8c8999ec9aada814338))
* remove custom transformation code ([#20](https://github.com/martinohmann/dts/issues/20)) ([35f35cd](https://github.com/martinohmann/dts/commit/35f35cdaadec4bd6fc876d1d5103617d9cd40d24))
* remove double double quoting of func arg on error ([481a66f](https://github.com/martinohmann/dts/commit/481a66fad77ef246ead68886ff57dbb68d45d9c8))
* remove useless `into_iter` calls ([58a115f](https://github.com/martinohmann/dts/commit/58a115f63befc1fe594b2c25c46f34bed5e6c53e))
* rename `arrays_to_objects` to `array_to_object` ([588f116](https://github.com/martinohmann/dts/commit/588f116c8f70c05878bed9a7c49543df9c4c5c69))
* rename error ([a441cfd](https://github.com/martinohmann/dts/commit/a441cfdf0190b0c2e642f2a3921a37efa22b30f2))
* require input file if not reading from stdin ([91fae04](https://github.com/martinohmann/dts/commit/91fae04474ed809a71608852820d4c16146cbb80))
* simplify detect_encoding ([1c70d3f](https://github.com/martinohmann/dts/commit/1c70d3fd70428132e178d0de4c2c65e87ca26cad))
* **toml:** convert to `toml::Value` before serialization ([7ff4e0e](https://github.com/martinohmann/dts/commit/7ff4e0e9b85086e61db0634909ca3ef185aac6ed))
* **transform:** allow underscores in flat keys ([5105a45](https://github.com/martinohmann/dts/commit/5105a455e4e2725404c5f0f8f7ff407866b93353))
* **transform:** deep-merge array values by index ([9004868](https://github.com/martinohmann/dts/commit/900486846baa230c926c8fc25801a52de283a2e4))
* treat missing fields as empty ([6c13c63](https://github.com/martinohmann/dts/commit/6c13c63027f63fe58b1b39cb80d75bd3a0d5727f))
* update ureq to fix a panic ([7eb6bc1](https://github.com/martinohmann/dts/commit/7eb6bc1123c4a59277157fb3c71a9a34ab08e68e))
* use Default::default ([82485a0](https://github.com/martinohmann/dts/commit/82485a095da6b3209415c4ef3a08a831b4ca4f85))
* use json as fallback if output encoding cannot be detected ([97d429e](https://github.com/martinohmann/dts/commit/97d429eaa810bccf5dee97ad3930c746006dbe50))


### Performance Improvements

* **deep-merge:** merge in place to avoid cloning ([120cf3c](https://github.com/martinohmann/dts/commit/120cf3c1bfb275dfe7209f467561a27c203056f1))
* **hcl:** add benchmark to measure deserialization performance ([12c888f](https://github.com/martinohmann/dts/commit/12c888f9b295a717f88e6d76db0c0bdb8c8a5214))
* parallel implementation of `expand_keys` ([389a92a](https://github.com/martinohmann/dts/commit/389a92a43c722e77720785bfdc3875ba234f579e))
* remove avoidable `clone` in `flatten_keys` ([994fa85](https://github.com/martinohmann/dts/commit/994fa8563cb6169f8983122a21e35f8675ba8805))


### Code Refactoring

* merge io helpers into one module ([bf97928](https://github.com/martinohmann/dts/commit/bf97928213121caa7dcaf65289e1a89678a84d49))
